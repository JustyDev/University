# Лабораторная работа 4: Биометрическая защита

## Описание
Приложение демонстрирует защиту критически важных разделов с помощью биометрии или код-пароля. При попытке доступа к экрану профиля пользователя программа запрашивает подтверждение личности (отпечаток пальца, Face ID и т.д.).

## Функциональность
- **Главный экран**: содержит кнопку для перехода к профилю
- **Защищенный экран профиля**: требует биометрическую аутентификацию для доступа
- При успешной аутентификации отображаются тестовые данные профиля пользователя
- Поддержка различных методов биометрии (отпечаток пальца, Face ID, и т.д.)
- Возможность использования PIN-кода устройства как альтернативы биометрии

## Технологии
- Flutter
- Пакет `local_auth` (v2.3.0) для биометрической аутентификации

## Установка и запуск

### Предварительные требования
1. Flutter SDK установлен
2. Android устройство или эмулятор с настроенной биометрией
3. USB отладка включена на устройстве

### Шаги для запуска

1. Установите зависимости:
```bash
flutter pub get
```

2. Подключите Android устройство или запустите эмулятор

3. Убедитесь, что устройство видно:
```bash
flutter devices
```

4. Запустите приложение:
```bash
flutter run
```

## Тестирование

### На реальном устройстве
1. Убедитесь, что на устройстве настроен отпечаток пальца или другая биометрия
2. Запустите приложение
3. Нажмите кнопку "Открыть профиль"
4. Приложение запросит биометрическую аутентификацию
5. Подтвердите отпечатком пальца
6. После успешной аутентификации откроется экран с данными профиля

### На эмуляторе
1. Настройте биометрию в эмуляторе (Settings → Security → Fingerprint)
2. В расширенных настройках эмулятора (Extended controls → Fingerprint) можно эмулировать касание сканера
3. Следуйте тем же шагам, что и для реального устройства

## Структура кода

### main.dart
- `MyApp` - корневой виджет приложения
- `HomeScreen` - главный экран с навигацией
- `ProfileScreen` - защищенный экран профиля с биометрией

### Основные методы аутентификации
- `canCheckBiometrics` - проверка доступности биометрии
- `isDeviceSupported()` - проверка поддержки устройством
- `getAvailableBiometrics()` - получение списка доступных методов
- `authenticate()` - выполнение биометрической аутентификации

## Данные профиля (тестовые)
- Имя: Иван Иванов
- Email: ivan@example.com
- Телефон: +7 999 123 45 67
- ID: 12345
- Роль: Пользователь

## Возможные ошибки

1. **"Биометрия недоступна"** - устройство не поддерживает биометрию
2. **"Биометрия не настроена"** - необходимо добавить отпечаток пальца в настройках
3. **"Аутентификация отменена"** - пользователь отменил процесс аутентификации

## Примечания
- Приложение использует `biometricOnly: false`, что позволяет использовать PIN-код как альтернативу биометрии
- При неудачной аутентификации пользователь автоматически возвращается на главный экран
- Все данные профиля являются тестовыми и жестко закодированы в приложении
